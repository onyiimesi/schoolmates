on:
  push:
    branches:
      - staging
name: ðŸš€ Deploy to Staging
jobs:
  web-deploy:
    name: ðŸŽ‰ Deploy
    runs-on: ubuntu-latest
    steps:
    - name: ðŸšš Get latest code
      uses: actions/checkout@v4

    - name: ðŸ“‚ Sync files
        run: |
          if [ ${{ github.ref }} == 'refs/heads/staging' ]; then
            subdomain="staging.com"
          elif [ ${{ github.ref }} == 'refs/heads/main' ]; then
            subdomain="dashboard.com"
          # Add other branches as needed
          else
            echo "Branch not configured for deployment"
            exit 1
          fi

          # Use the correct subdomain variable in the FTP deployment action
          echo "Deploying to $subdomain"
        env:
          FTP_SERVER: ftp.sapsms.com
          FTP_USERNAME: ${{ secrets.ftp_username }}
          FTP_PASSWORD: ${{ secrets.ftp_password }}
          SERVER_DIR: "/"
